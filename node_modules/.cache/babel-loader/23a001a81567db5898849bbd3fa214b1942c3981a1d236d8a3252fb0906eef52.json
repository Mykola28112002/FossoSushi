{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { generateID } from './util/uid';\nexport function layerMouseTouchEvents(WrappedComponent) {\n  return function (_super) {\n    __extends(EnhancedLayer, _super);\n    function EnhancedLayer() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n      _this.hover = [];\n      _this.draggedChildren = undefined;\n      _this.id = _this.props.id || \"layer-\" + generateID();\n      _this.getChildren = function () {\n        return [].concat(_this.props.children).filter(function (el) {\n          return typeof el !== 'undefined';\n        });\n      };\n      _this.getChildFromId = function (children, id) {\n        return children[id];\n      };\n      _this.areFeaturesDraggable = function (children, featureIds) {\n        if (featureIds === void 0) {\n          featureIds = _this.hover;\n        }\n        return !!featureIds.map(function (id) {\n          return _this.getChildFromId(children, id) ? _this.getChildFromId(children, id).props.draggable : false;\n        }).filter(Boolean).length;\n      };\n      _this.onClick = function (evt) {\n        var features = evt.features;\n        var children = _this.getChildren();\n        var map = _this.props.map;\n        if (features) {\n          features.forEach(function (feature) {\n            var id = feature.properties.id;\n            if (children) {\n              var child = _this.getChildFromId(children, id);\n              var onClick = child && child.props.onClick;\n              if (onClick) {\n                onClick(__assign({}, evt, {\n                  feature: feature,\n                  map: map\n                }));\n              }\n            }\n          });\n        }\n      };\n      _this.onMouseEnter = function (evt) {\n        var children = _this.getChildren();\n        var map = _this.props.map;\n        _this.hover = [];\n        evt.features.forEach(function (feature) {\n          var id = feature.properties.id;\n          var child = _this.getChildFromId(children, id);\n          _this.hover.push(id);\n          var onMouseEnter = child && child.props.onMouseEnter;\n          if (onMouseEnter) {\n            onMouseEnter(__assign({}, evt, {\n              feature: feature,\n              map: map\n            }));\n          }\n        });\n        if (_this.areFeaturesDraggable(children)) {\n          map.dragPan.disable();\n        }\n      };\n      _this.onMouseLeave = function (evt) {\n        var children = _this.getChildren();\n        var map = _this.props.map;\n        if (_this.areFeaturesDraggable(children)) {\n          map.dragPan.enable();\n        }\n        _this.hover.forEach(function (id) {\n          var child = _this.getChildFromId(children, id);\n          var onMouseLeave = child && child.props.onMouseLeave;\n          if (onMouseLeave) {\n            onMouseLeave(__assign({}, evt, {\n              map: map\n            }));\n          }\n        });\n        if (!_this.draggedChildren) {\n          _this.hover = [];\n        }\n      };\n      _this.onMouseDown = function () {\n        if (_this.hover.length) {\n          _this.onFeatureDown('mousedown');\n        }\n      };\n      _this.onTouchStart = function (evt) {\n        _this.hover = evt.features.map(function (feature) {\n          return feature.properties.id;\n        });\n        if (_this.hover.length) {\n          _this.onFeatureDown('touchstart');\n        }\n      };\n      _this.onFeatureDown = function (startEvent) {\n        var moveEvent = startEvent === 'mousedown' ? 'mousemove' : 'touchmove';\n        var endEvent = startEvent === 'mousedown' ? 'mouseup' : 'touchend';\n        var map = _this.props.map;\n        map.once(moveEvent, _this.onFeatureDragStart);\n        map.on(moveEvent, _this.onFeatureDrag);\n        map.once(endEvent, function (evt) {\n          map.off(moveEvent, _this.onFeatureDragStart);\n          map.off(moveEvent, _this.onFeatureDrag);\n          _this.onFeatureDragEnd(evt);\n        });\n      };\n      _this.onFeatureDragStart = function (evt) {\n        var map = _this.props.map;\n        var children = _this.getChildren();\n        _this.hover.forEach(function (id) {\n          var child = _this.getChildFromId(children, id);\n          if (child && !child.props.draggable) {\n            return;\n          }\n          var onDragStart = child && child.props.onDragStart;\n          if (onDragStart) {\n            onDragStart(__assign({}, evt, {\n              map: map\n            }));\n          }\n        });\n      };\n      _this.onFeatureDrag = function (evt) {\n        var children = _this.getChildren();\n        var map = _this.props.map;\n        var _a = evt.lngLat,\n          lng = _a.lng,\n          lat = _a.lat;\n        _this.draggedChildren = [];\n        _this.hover.forEach(function (id) {\n          var child = _this.getChildFromId(children, id);\n          var onDrag = child && child.props.onDrag;\n          if (child && child.props.draggable) {\n            _this.draggedChildren.push(React.cloneElement(child, {\n              coordinates: [lng, lat]\n            }));\n            if (onDrag) {\n              onDrag(__assign({}, evt, {\n                map: map\n              }));\n            }\n          }\n        });\n        _this.forceUpdate();\n      };\n      _this.onFeatureDragEnd = function (evt) {\n        var map = _this.props.map;\n        var children = _this.getChildren();\n        _this.hover.forEach(function (id) {\n          var child = _this.getChildFromId(children, id);\n          var onDragEnd = child && child.props.onDragEnd;\n          if (onDragEnd && child.props.draggable && _this.draggedChildren) {\n            onDragEnd(__assign({}, evt, {\n              map: map\n            }));\n          }\n        });\n        _this.draggedChildren = undefined;\n      };\n      return _this;\n    }\n    EnhancedLayer.prototype.componentDidMount = function () {\n      var map = this.props.map;\n      map.on('click', this.id, this.onClick);\n      map.on('mouseenter', this.id, this.onMouseEnter);\n      map.on('mouseleave', this.id, this.onMouseLeave);\n      map.on('mousedown', this.id, this.onMouseDown);\n      map.on('touchstart', this.id, this.onTouchStart);\n    };\n    EnhancedLayer.prototype.componentWillUnmount = function () {\n      var map = this.props.map;\n      map.off('click', this.onClick);\n      map.off('mouseenter', this.onMouseEnter);\n      map.off('mouseleave', this.onMouseLeave);\n      map.off('mousedown', this.onMouseDown);\n      map.off('touchstart', this.onTouchStart);\n    };\n    EnhancedLayer.prototype.render = function () {\n      return React.createElement(WrappedComponent, __assign({}, this.props, {\n        id: this.id,\n        map: this.props.map,\n        draggedChildren: this.draggedChildren\n      }));\n    };\n    return EnhancedLayer;\n  }(React.Component);\n}\nexport default layerMouseTouchEvents;","map":{"version":3,"names":["React","generateID","layerMouseTouchEvents","WrappedComponent","_super","__extends","EnhancedLayer","_this","apply","arguments","hover","draggedChildren","undefined","id","props","getChildren","concat","children","filter","el","getChildFromId","areFeaturesDraggable","featureIds","map","draggable","Boolean","length","onClick","evt","features","forEach","feature","properties","child","__assign","onMouseEnter","push","dragPan","disable","onMouseLeave","enable","onMouseDown","onFeatureDown","onTouchStart","startEvent","moveEvent","endEvent","once","onFeatureDragStart","on","onFeatureDrag","off","onFeatureDragEnd","onDragStart","_a","lngLat","lng","lat","onDrag","cloneElement","coordinates","forceUpdate","onDragEnd","prototype","componentDidMount","componentWillUnmount","render","createElement","Component"],"sources":["/Users/mikolakondratuk/FossoSushi/node_modules/react-mapbox-gl/src/layer-events-hoc.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Props as FeatureProps } from './feature';\nimport { generateID } from './util/uid';\nimport { LayerCommonProps, Props as LayerProps } from './layer';\nimport { Map } from 'mapbox-gl';\n\nexport interface EnhancedLayerProps {\n  id?: string;\n  map: Map;\n}\n\nexport type OwnProps = EnhancedLayerProps & LayerCommonProps;\n\ntype LayerChildren = React.ReactElement<FeatureProps> | undefined;\n\nexport function layerMouseTouchEvents(\n  WrappedComponent: React.ComponentClass<LayerProps>\n) {\n  return class EnhancedLayer extends React.Component<OwnProps> {\n    public hover: number[] = [];\n    public draggedChildren:\n      | Array<React.ReactElement<FeatureProps>>\n      | undefined = undefined;\n\n    public id: string = this.props.id || `layer-${generateID()}`;\n\n    public getChildren = () =>\n      ([] as LayerChildren[])\n        .concat(this.props.children)\n        .filter(\n          (el): el is React.ReactElement<FeatureProps> =>\n            typeof el !== 'undefined'\n        );\n    public getChildFromId = (\n      children: Array<React.ReactElement<FeatureProps>>,\n      id: number\n    ) => children[id];\n\n    public areFeaturesDraggable = (\n      children: Array<React.ReactElement<FeatureProps>>,\n      featureIds: number[] = this.hover\n    ) =>\n      !!featureIds\n        .map(\n          id =>\n            this.getChildFromId(children, id)\n              ? this.getChildFromId(children, id)!.props.draggable\n              : false\n        )\n        .filter(Boolean).length;\n\n    // tslint:disable-next-line:no-any\n    public onClick = (evt: any) => {\n      const features = evt.features as Array<\n        GeoJSON.Feature<GeoJSON.GeometryObject, { id: number }>\n      >;\n      const children = this.getChildren();\n\n      const { map } = this.props;\n\n      if (features) {\n        features.forEach(feature => {\n          const { id } = feature.properties;\n          if (children) {\n            const child = this.getChildFromId(children, id);\n\n            const onClick = child && child.props.onClick;\n            if (onClick) {\n              onClick({ ...evt, feature, map });\n            }\n          }\n        });\n      }\n    };\n\n    // tslint:disable-next-line:no-any\n    public onMouseEnter = (evt: any) => {\n      const children = this.getChildren();\n\n      const { map } = this.props;\n      this.hover = [];\n\n      evt.features.forEach(\n        (feature: GeoJSON.Feature<GeoJSON.GeometryObject, { id: number }>) => {\n          const { id } = feature.properties;\n          const child = this.getChildFromId(children, id);\n          this.hover.push(id);\n\n          const onMouseEnter = child && child.props.onMouseEnter;\n          if (onMouseEnter) {\n            onMouseEnter({ ...evt, feature, map });\n          }\n        }\n      );\n\n      if (this.areFeaturesDraggable(children)) {\n        map.dragPan.disable();\n      }\n    };\n\n    // tslint:disable-next-line:no-any\n    public onMouseLeave = (evt: any) => {\n      const children = this.getChildren();\n      const { map } = this.props;\n      if (this.areFeaturesDraggable(children)) {\n        map.dragPan.enable();\n      }\n\n      this.hover.forEach(id => {\n        const child = this.getChildFromId(children, id);\n        const onMouseLeave = child && child.props.onMouseLeave;\n        if (onMouseLeave) {\n          onMouseLeave({ ...evt, map });\n        }\n      });\n\n      if (!this.draggedChildren) {\n        this.hover = [];\n      }\n    };\n\n    public onMouseDown = () => {\n      // User did this on a feature\n      if (this.hover.length) {\n        this.onFeatureDown('mousedown');\n      }\n    };\n\n    // tslint:disable-next-line:no-any\n    public onTouchStart = (evt: any) => {\n      // tslint:disable-next-line:no-any\n      this.hover = evt.features.map((feature: any) => feature.properties.id);\n\n      if (this.hover.length) {\n        this.onFeatureDown('touchstart');\n      }\n    };\n\n    public onFeatureDown = (startEvent: string) => {\n      const moveEvent = startEvent === 'mousedown' ? 'mousemove' : 'touchmove';\n      const endEvent = startEvent === 'mousedown' ? 'mouseup' : 'touchend';\n      const { map } = this.props;\n\n      map.once(moveEvent, this.onFeatureDragStart);\n      map.on(moveEvent, this.onFeatureDrag);\n\n      // tslint:disable-next-line:no-any\n      map.once(endEvent, (evt: any) => {\n        map.off(moveEvent, this.onFeatureDragStart);\n        map.off(moveEvent, this.onFeatureDrag);\n        this.onFeatureDragEnd(evt);\n      });\n    };\n\n    // tslint:disable-next-line:no-any\n    public onFeatureDragStart = (evt: any) => {\n      const { map } = this.props;\n      const children = this.getChildren();\n\n      this.hover.forEach(id => {\n        const child = this.getChildFromId(children, id);\n        if (child && !child.props.draggable) {\n          return;\n        }\n\n        const onDragStart = child && child.props.onDragStart;\n        if (onDragStart) {\n          onDragStart({ ...evt, map });\n        }\n      });\n    };\n\n    // tslint:disable-next-line:no-any\n    public onFeatureDrag = (evt: any) => {\n      const children = this.getChildren();\n      const { map } = this.props;\n      const { lngLat: { lng, lat } } = evt;\n      this.draggedChildren = [];\n\n      this.hover.forEach(id => {\n        const child = this.getChildFromId(children, id);\n        const onDrag = child && child.props.onDrag;\n\n        // drag children if draggable\n        if (child && child.props.draggable) {\n          this.draggedChildren!.push(\n            React.cloneElement(child, {\n              coordinates: [lng, lat]\n            })\n          );\n\n          if (onDrag) {\n            onDrag({ ...evt, map });\n          }\n        }\n      });\n\n      this.forceUpdate();\n    };\n\n    // tslint:disable-next-line:no-any\n    public onFeatureDragEnd = (evt: any) => {\n      const { map } = this.props;\n      const children = this.getChildren();\n\n      this.hover.forEach(id => {\n        const child = this.getChildFromId(children, id);\n        const onDragEnd = child && child.props.onDragEnd;\n\n        if (onDragEnd && child!.props.draggable && this.draggedChildren) {\n          onDragEnd({ ...evt, map });\n        }\n      });\n\n      this.draggedChildren = undefined;\n    };\n\n    public componentDidMount() {\n      const { map } = this.props;\n\n      map.on('click', this.id, this.onClick);\n      map.on('mouseenter', this.id, this.onMouseEnter);\n      map.on('mouseleave', this.id, this.onMouseLeave);\n      map.on('mousedown', this.id, this.onMouseDown);\n      map.on('touchstart', this.id, this.onTouchStart);\n    }\n\n    public componentWillUnmount() {\n      const { map } = this.props;\n\n      map.off('click', this.onClick);\n      map.off('mouseenter', this.onMouseEnter);\n      map.off('mouseleave', this.onMouseLeave);\n      map.off('mousedown', this.onMouseDown);\n      map.off('touchstart', this.onTouchStart);\n    }\n\n    public render() {\n      return (\n        <WrappedComponent\n          {...this.props}\n          id={this.id}\n          map={this.props.map}\n          draggedChildren={this.draggedChildren}\n        />\n      );\n    }\n  };\n}\n\nexport default layerMouseTouchEvents;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}