{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as MapboxGl from 'mapbox-gl';\nimport * as React from 'react';\nimport { listenEvents, events, updateEvents } from './map-events';\nimport { MapContext } from './context';\nimport { createPortal } from 'react-dom';\nvar isEqual = require('deep-equal');\nvar defaultZoom = [11];\nvar defaultMovingMethod = 'flyTo';\nvar defaultCenter = [-0.2416815, 51.5285582];\nvar ReactMapboxFactory = function (_a) {\n  var accessToken = _a.accessToken,\n    apiUrl = _a.apiUrl,\n    _b = _a.minZoom,\n    minZoom = _b === void 0 ? 0 : _b,\n    _c = _a.maxZoom,\n    maxZoom = _c === void 0 ? 20 : _c,\n    _d = _a.hash,\n    hash = _d === void 0 ? false : _d,\n    _e = _a.preserveDrawingBuffer,\n    preserveDrawingBuffer = _e === void 0 ? false : _e,\n    _f = _a.scrollZoom,\n    scrollZoom = _f === void 0 ? true : _f,\n    _g = _a.interactive,\n    interactive = _g === void 0 ? true : _g,\n    _h = _a.dragRotate,\n    dragRotate = _h === void 0 ? true : _h,\n    _j = _a.pitchWithRotate,\n    pitchWithRotate = _j === void 0 ? true : _j,\n    _k = _a.attributionControl,\n    attributionControl = _k === void 0 ? true : _k,\n    customAttribution = _a.customAttribution,\n    _l = _a.logoPosition,\n    logoPosition = _l === void 0 ? 'bottom-left' : _l,\n    _m = _a.renderWorldCopies,\n    renderWorldCopies = _m === void 0 ? true : _m,\n    _o = _a.trackResize,\n    trackResize = _o === void 0 ? true : _o,\n    _p = _a.touchZoomRotate,\n    touchZoomRotate = _p === void 0 ? true : _p,\n    _q = _a.doubleClickZoom,\n    doubleClickZoom = _q === void 0 ? true : _q,\n    _r = _a.keyboard,\n    keyboard = _r === void 0 ? true : _r,\n    _s = _a.dragPan,\n    dragPan = _s === void 0 ? true : _s,\n    _t = _a.boxZoom,\n    boxZoom = _t === void 0 ? true : _t,\n    _u = _a.refreshExpiredTiles,\n    refreshExpiredTiles = _u === void 0 ? true : _u,\n    _v = _a.failIfMajorPerformanceCaveat,\n    failIfMajorPerformanceCaveat = _v === void 0 ? false : _v,\n    _w = _a.bearingSnap,\n    bearingSnap = _w === void 0 ? 7 : _w,\n    _x = _a.antialias,\n    antialias = _x === void 0 ? false : _x,\n    mapInstance = _a.mapInstance,\n    transformRequest = _a.transformRequest;\n  var _y;\n  return _y = function (_super) {\n    __extends(ReactMapboxGl, _super);\n    function ReactMapboxGl() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n      _this.state = {\n        map: mapInstance,\n        ready: false\n      };\n      _this.listeners = {};\n      _this._isMounted = true;\n      _this.calcCenter = function (bounds) {\n        return [(bounds[0][0] + bounds[1][0]) / 2, (bounds[0][1] + bounds[1][1]) / 2];\n      };\n      _this.setRef = function (x) {\n        _this.container = x;\n      };\n      return _this;\n    }\n    ReactMapboxGl.prototype.componentDidMount = function () {\n      var _this = this;\n      var _a = this.props,\n        style = _a.style,\n        onStyleLoad = _a.onStyleLoad,\n        center = _a.center,\n        pitch = _a.pitch,\n        zoom = _a.zoom,\n        fitBounds = _a.fitBounds,\n        fitBoundsOptions = _a.fitBoundsOptions,\n        bearing = _a.bearing,\n        maxBounds = _a.maxBounds;\n      MapboxGl.accessToken = accessToken;\n      if (apiUrl) {\n        MapboxGl.config.API_URL = apiUrl;\n      }\n      if (!Array.isArray(zoom)) {\n        throw new Error('zoom need to be an array type of length 1 for reliable update');\n      }\n      var opts = {\n        preserveDrawingBuffer: preserveDrawingBuffer,\n        hash: hash,\n        zoom: zoom[0],\n        minZoom: minZoom,\n        maxZoom: maxZoom,\n        maxBounds: maxBounds,\n        container: this.container,\n        center: fitBounds && center === defaultCenter ? this.calcCenter(fitBounds) : center,\n        style: style,\n        scrollZoom: scrollZoom,\n        attributionControl: attributionControl,\n        customAttribution: customAttribution,\n        interactive: interactive,\n        dragRotate: dragRotate,\n        pitchWithRotate: pitchWithRotate,\n        renderWorldCopies: renderWorldCopies,\n        trackResize: trackResize,\n        touchZoomRotate: touchZoomRotate,\n        doubleClickZoom: doubleClickZoom,\n        keyboard: keyboard,\n        dragPan: dragPan,\n        boxZoom: boxZoom,\n        refreshExpiredTiles: refreshExpiredTiles,\n        logoPosition: logoPosition,\n        bearingSnap: bearingSnap,\n        failIfMajorPerformanceCaveat: failIfMajorPerformanceCaveat,\n        antialias: antialias,\n        transformRequest: transformRequest\n      };\n      if (bearing) {\n        if (!Array.isArray(bearing)) {\n          throw new Error('bearing need to be an array type of length 1 for reliable update');\n        }\n        opts.bearing = bearing[0];\n      }\n      if (pitch) {\n        if (!Array.isArray(pitch)) {\n          throw new Error('pitch need to be an array type of length 1 for reliable update');\n        }\n        opts.pitch = pitch[0];\n      }\n      var map = this.state.map;\n      if (!map) {\n        map = new MapboxGl.Map(opts);\n        this.setState({\n          map: map\n        });\n      }\n      if (fitBounds) {\n        map.fitBounds(fitBounds, fitBoundsOptions, {\n          fitboundUpdate: true\n        });\n      }\n      map.on('load', function (evt) {\n        if (_this._isMounted) {\n          _this.setState({\n            ready: true\n          });\n        }\n        if (onStyleLoad) {\n          onStyleLoad(map, evt);\n        }\n      });\n      this.listeners = listenEvents(events, this.props, map);\n    };\n    ReactMapboxGl.prototype.componentWillUnmount = function () {\n      var map = this.state.map;\n      this._isMounted = false;\n      if (map) {\n        map.remove();\n      }\n    };\n    ReactMapboxGl.prototype.componentDidUpdate = function (prevProps) {\n      var _this = this;\n      var map = this.state.map;\n      if (!map) {\n        return null;\n      }\n      this.listeners = updateEvents(this.listeners, this.props, map);\n      var center = map.getCenter();\n      var zoom = map.getZoom();\n      var bearing = map.getBearing();\n      var pitch = map.getPitch();\n      var didZoomUpdate = prevProps.zoom !== this.props.zoom && (this.props.zoom && this.props.zoom[0]) !== zoom;\n      var didCenterUpdate = prevProps.center !== this.props.center && ((this.props.center && this.props.center[0]) !== center.lng || (this.props.center && this.props.center[1]) !== center.lat);\n      var didBearingUpdate = prevProps.bearing !== this.props.bearing && (this.props.bearing && this.props.bearing[0]) !== bearing;\n      var didPitchUpdate = prevProps.pitch !== this.props.pitch && (this.props.pitch && this.props.pitch[0]) !== pitch;\n      if (this.props.maxBounds) {\n        var didMaxBoundsUpdate = prevProps.maxBounds !== this.props.maxBounds;\n        if (didMaxBoundsUpdate) {\n          map.setMaxBounds(this.props.maxBounds);\n        }\n      }\n      if (this.props.fitBounds) {\n        var fitBounds = prevProps.fitBounds;\n        var didFitBoundsUpdate = fitBounds !== this.props.fitBounds || this.props.fitBounds.length !== (fitBounds && fitBounds.length) || !!fitBounds.filter(function (c, i) {\n          var nc = _this.props.fitBounds && _this.props.fitBounds[i];\n          return c[0] !== (nc && nc[0]) || c[1] !== (nc && nc[1]);\n        })[0];\n        if (didFitBoundsUpdate || !isEqual(prevProps.fitBoundsOptions, this.props.fitBoundsOptions)) {\n          map.fitBounds(this.props.fitBounds, this.props.fitBoundsOptions, {\n            fitboundUpdate: true\n          });\n        }\n      }\n      if (didZoomUpdate || didCenterUpdate || didBearingUpdate || didPitchUpdate) {\n        var mm = this.props.movingMethod || defaultMovingMethod;\n        var _a = this.props,\n          flyToOptions = _a.flyToOptions,\n          animationOptions = _a.animationOptions;\n        map[mm](__assign({}, animationOptions, flyToOptions, {\n          zoom: didZoomUpdate && this.props.zoom ? this.props.zoom[0] : zoom,\n          center: didCenterUpdate ? this.props.center : center,\n          bearing: didBearingUpdate ? this.props.bearing : bearing,\n          pitch: didPitchUpdate ? this.props.pitch : pitch\n        }));\n      }\n      if (!isEqual(prevProps.style, this.props.style)) {\n        map.setStyle(this.props.style);\n      }\n      return null;\n    };\n    ReactMapboxGl.prototype.render = function () {\n      var _a = this.props,\n        containerStyle = _a.containerStyle,\n        className = _a.className,\n        children = _a.children,\n        renderChildrenInPortal = _a.renderChildrenInPortal;\n      var _b = this.state,\n        ready = _b.ready,\n        map = _b.map;\n      if (renderChildrenInPortal) {\n        var container = ready && map && typeof map.getCanvasContainer === 'function' ? map.getCanvasContainer() : undefined;\n        return React.createElement(MapContext.Provider, {\n          value: map\n        }, React.createElement(\"div\", {\n          ref: this.setRef,\n          className: className,\n          style: __assign({}, containerStyle)\n        }, ready && container && createPortal(children, container)));\n      }\n      return React.createElement(MapContext.Provider, {\n        value: map\n      }, React.createElement(\"div\", {\n        ref: this.setRef,\n        className: className,\n        style: __assign({}, containerStyle)\n      }, ready && children));\n    };\n    return ReactMapboxGl;\n  }(React.Component), _y.defaultProps = {\n    onStyleLoad: function (map, evt) {\n      return null;\n    },\n    center: defaultCenter,\n    zoom: defaultZoom,\n    bearing: 0,\n    movingMethod: defaultMovingMethod,\n    pitch: 0,\n    containerStyle: {\n      textAlign: 'left'\n    }\n  }, _y;\n};\nexport default ReactMapboxFactory;","map":{"version":3,"names":["MapboxGl","React","listenEvents","events","updateEvents","MapContext","createPortal","isEqual","require","defaultZoom","defaultMovingMethod","defaultCenter","ReactMapboxFactory","_a","accessToken","apiUrl","_b","minZoom","_c","maxZoom","_d","hash","_e","preserveDrawingBuffer","_f","scrollZoom","_g","interactive","_h","dragRotate","_j","pitchWithRotate","_k","attributionControl","customAttribution","_l","logoPosition","_m","renderWorldCopies","_o","trackResize","_p","touchZoomRotate","_q","doubleClickZoom","_r","keyboard","_s","dragPan","_t","boxZoom","_u","refreshExpiredTiles","_v","failIfMajorPerformanceCaveat","_w","bearingSnap","_x","antialias","mapInstance","transformRequest","_y","_super","__extends","ReactMapboxGl","_this","apply","arguments","state","map","ready","listeners","_isMounted","calcCenter","bounds","setRef","x","container","prototype","componentDidMount","props","style","onStyleLoad","center","pitch","zoom","fitBounds","fitBoundsOptions","bearing","maxBounds","config","API_URL","Array","isArray","Error","opts","Map","setState","fitboundUpdate","on","evt","componentWillUnmount","remove","componentDidUpdate","prevProps","getCenter","getZoom","getBearing","getPitch","didZoomUpdate","didCenterUpdate","lng","lat","didBearingUpdate","didPitchUpdate","didMaxBoundsUpdate","setMaxBounds","didFitBoundsUpdate","length","filter","c","i","nc","mm","movingMethod","flyToOptions","animationOptions","__assign","setStyle","render","containerStyle","className","children","renderChildrenInPortal","getCanvasContainer","undefined","createElement","Provider","value","ref","Component","defaultProps","textAlign"],"sources":["/Users/mikolakondratuk/FossoSushi/node_modules/react-mapbox-gl/src/map.tsx"],"sourcesContent":["import * as MapboxGl from 'mapbox-gl';\nimport * as React from 'react';\nimport {\n  Events,\n  listenEvents,\n  events,\n  Listeners,\n  updateEvents\n} from './map-events';\nimport { MapContext } from './context';\nimport { createPortal } from 'react-dom';\nconst isEqual = require('deep-equal'); //tslint:disable-line\n\nexport interface PaddingOptions {\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n}\n\nexport interface FitBoundsOptions {\n  linear?: boolean;\n  easing?: (time: number) => number;\n  padding?: number | PaddingOptions;\n  offset?: MapboxGl.Point | [number, number];\n  maxZoom?: number;\n  duration?: number;\n}\n\nexport type FitBounds = [[number, number], [number, number]];\n\nexport interface AnimationOptions {\n  duration: number;\n  animate: boolean;\n  easing(time: number): number;\n  offset: number[];\n}\n\nexport interface FlyToOptions {\n  curve: number;\n  minZoom: number;\n  speed: number;\n  screenSpeed: number;\n}\n\n// React Props updated between re-render\nexport interface Props {\n  style: string | MapboxGl.Style;\n  center?: [number, number];\n  zoom?: [number];\n  maxBounds?: MapboxGl.LngLatBounds | FitBounds;\n  fitBounds?: FitBounds;\n  fitBoundsOptions?: FitBoundsOptions;\n  bearing?: [number];\n  pitch?: [number];\n  containerStyle?: React.CSSProperties;\n  className?: string;\n  movingMethod?: 'jumpTo' | 'easeTo' | 'flyTo';\n  animationOptions?: Partial<AnimationOptions>;\n  flyToOptions?: Partial<FlyToOptions>;\n  children?: JSX.Element | JSX.Element[] | Array<JSX.Element | undefined>;\n  renderChildrenInPortal?: boolean;\n}\n\nexport interface State {\n  map?: MapboxGl.Map;\n  ready: boolean;\n}\n\nexport type RequestTransformFunction = (\n  url: string,\n  resourceType: any // tslint:disable-line:no-any\n) => any; // tslint:disable-line:no-any\n\n// Static Properties of the map\nexport interface FactoryParameters {\n  accessToken: string;\n  apiUrl?: string;\n  minZoom?: number;\n  maxZoom?: number;\n  hash?: boolean;\n  preserveDrawingBuffer?: boolean;\n  scrollZoom?: boolean;\n  interactive?: boolean;\n  dragRotate?: boolean;\n  pitchWithRotate?: boolean;\n  attributionControl?: boolean;\n  customAttribution?: string | string[];\n  logoPosition?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n  renderWorldCopies?: boolean;\n  trackResize?: boolean;\n  touchZoomRotate?: boolean;\n  doubleClickZoom?: boolean;\n  keyboard?: boolean;\n  dragPan?: boolean;\n  boxZoom?: boolean;\n  refreshExpiredTiles?: boolean;\n  failIfMajorPerformanceCaveat?: boolean;\n  bearingSnap?: number;\n  transformRequest?: RequestTransformFunction;\n  antialias?: boolean;\n  mapInstance?: MapboxGl.Map;\n}\n\n// Satisfy typescript pitfall with defaultProps\nconst defaultZoom = [11];\nconst defaultMovingMethod = 'flyTo';\nconst defaultCenter = [-0.2416815, 51.5285582];\n\n// tslint:disable-next-line:no-namespace\ndeclare global {\n  namespace mapboxgl {\n    export interface MapboxOptions {\n      failIfMajorPerformanceCaveat?: boolean;\n      transformRequest?: MapboxGl.TransformRequestFunction;\n    }\n  }\n}\n\nconst ReactMapboxFactory = ({\n  accessToken,\n  apiUrl,\n  minZoom = 0,\n  maxZoom = 20,\n  hash = false,\n  preserveDrawingBuffer = false,\n  scrollZoom = true,\n  interactive = true,\n  dragRotate = true,\n  pitchWithRotate = true,\n  attributionControl = true,\n  customAttribution,\n  logoPosition = 'bottom-left',\n  renderWorldCopies = true,\n  trackResize = true,\n  touchZoomRotate = true,\n  doubleClickZoom = true,\n  keyboard = true,\n  dragPan = true,\n  boxZoom = true,\n  refreshExpiredTiles = true,\n  failIfMajorPerformanceCaveat = false,\n  bearingSnap = 7,\n  antialias = false,\n  mapInstance,\n  transformRequest\n}: FactoryParameters) => {\n  return class ReactMapboxGl extends React.Component<Props & Events, State> {\n    public static defaultProps = {\n      // tslint:disable-next-line:no-any\n      onStyleLoad: (map: MapboxGl.Map, evt: any) => null,\n      center: defaultCenter,\n      zoom: defaultZoom,\n      bearing: 0,\n      movingMethod: defaultMovingMethod,\n      pitch: 0,\n      containerStyle: {\n        textAlign: 'left'\n      }\n    };\n\n    public state: State = {\n      map: mapInstance,\n      ready: false\n    };\n\n    public listeners: Listeners = {};\n\n    // tslint:disable-next-line:variable-name\n    public _isMounted = true;\n\n    public container?: HTMLElement;\n\n    public calcCenter = (bounds: FitBounds): [number, number] => [\n      (bounds[0][0] + bounds[1][0]) / 2,\n      (bounds[0][1] + bounds[1][1]) / 2\n    ];\n\n    public componentDidMount() {\n      const {\n        style,\n        onStyleLoad,\n        center,\n        pitch,\n        zoom,\n        fitBounds,\n        fitBoundsOptions,\n        bearing,\n        maxBounds\n      } = this.props;\n\n      // tslint:disable-next-line:no-any\n      (MapboxGl as any).accessToken = accessToken;\n      if (apiUrl) {\n        // tslint:disable-next-line:no-any\n        (MapboxGl as any).config.API_URL = apiUrl;\n      }\n\n      if (!Array.isArray(zoom)) {\n        throw new Error(\n          'zoom need to be an array type of length 1 for reliable update'\n        );\n      }\n\n      const opts: MapboxGl.MapboxOptions = {\n        preserveDrawingBuffer,\n        hash,\n        zoom: zoom[0],\n        minZoom,\n        maxZoom,\n        maxBounds,\n        container: this.container!,\n        center:\n          fitBounds && center === defaultCenter\n            ? this.calcCenter(fitBounds)\n            : center,\n        style,\n        scrollZoom,\n        attributionControl,\n        customAttribution,\n        interactive,\n        dragRotate,\n        pitchWithRotate,\n        renderWorldCopies,\n        trackResize,\n        touchZoomRotate,\n        doubleClickZoom,\n        keyboard,\n        dragPan,\n        boxZoom,\n        refreshExpiredTiles,\n        logoPosition,\n        bearingSnap,\n        failIfMajorPerformanceCaveat,\n        antialias,\n        transformRequest\n      };\n\n      if (bearing) {\n        if (!Array.isArray(bearing)) {\n          throw new Error(\n            'bearing need to be an array type of length 1 for reliable update'\n          );\n        }\n\n        opts.bearing = bearing[0];\n      }\n\n      if (pitch) {\n        if (!Array.isArray(pitch)) {\n          throw new Error(\n            'pitch need to be an array type of length 1 for reliable update'\n          );\n        }\n\n        opts.pitch = pitch[0];\n      }\n\n      // This is a hack to allow injecting the map instance, which assists\n      // in testing and theoretically provides a means for users to inject\n      // their own map instance.\n      let map = this.state.map;\n\n      if (!map) {\n        map = new MapboxGl.Map(opts);\n        this.setState({ map });\n      }\n\n      if (fitBounds) {\n        map.fitBounds(fitBounds, fitBoundsOptions, { fitboundUpdate: true });\n      }\n\n      // tslint:disable-next-line:no-any\n      map.on('load', (evt: React.SyntheticEvent<any>) => {\n        if (this._isMounted) {\n          this.setState({ ready: true });\n        }\n\n        if (onStyleLoad) {\n          onStyleLoad(map!, evt);\n        }\n      });\n\n      this.listeners = listenEvents(events, this.props, map);\n    }\n\n    public componentWillUnmount() {\n      const { map } = this.state;\n      this._isMounted = false;\n\n      if (map) {\n        map.remove();\n      }\n    }\n\n    public componentDidUpdate(prevProps: Props & Events) {\n      const { map } = this.state;\n      if (!map) {\n        return null;\n      }\n\n      // Update event listeners\n      this.listeners = updateEvents(this.listeners, this.props, map);\n\n      const center = map.getCenter();\n      const zoom = map.getZoom();\n      const bearing = map.getBearing();\n      const pitch = map.getPitch();\n\n      const didZoomUpdate =\n        prevProps.zoom !== this.props.zoom &&\n        (this.props.zoom && this.props.zoom[0]) !== zoom;\n\n      const didCenterUpdate =\n        prevProps.center !== this.props.center &&\n        ((this.props.center && this.props.center[0]) !== center.lng ||\n          (this.props.center && this.props.center[1]) !== center.lat);\n\n      const didBearingUpdate =\n        prevProps.bearing !== this.props.bearing &&\n        (this.props.bearing && this.props.bearing[0]) !== bearing;\n\n      const didPitchUpdate =\n        prevProps.pitch !== this.props.pitch &&\n        (this.props.pitch && this.props.pitch[0]) !== pitch;\n\n      if (this.props.maxBounds) {\n        const didMaxBoundsUpdate = prevProps.maxBounds !== this.props.maxBounds;\n\n        if (didMaxBoundsUpdate) {\n          map.setMaxBounds(this.props.maxBounds);\n        }\n      }\n\n      if (this.props.fitBounds) {\n        const { fitBounds } = prevProps;\n\n        const didFitBoundsUpdate =\n          fitBounds !== this.props.fitBounds || // Check for reference equality\n          this.props.fitBounds.length !== (fitBounds && fitBounds.length) || // Added element\n          !!fitBounds.filter((c, i) => {\n            // Check for equality\n            const nc = this.props.fitBounds && this.props.fitBounds[i];\n            return c[0] !== (nc && nc[0]) || c[1] !== (nc && nc[1]);\n          })[0];\n\n        if (\n          didFitBoundsUpdate ||\n          !isEqual(prevProps.fitBoundsOptions, this.props.fitBoundsOptions)\n        ) {\n          map.fitBounds(this.props.fitBounds, this.props.fitBoundsOptions, {\n            fitboundUpdate: true\n          });\n        }\n      }\n\n      if (\n        didZoomUpdate ||\n        didCenterUpdate ||\n        didBearingUpdate ||\n        didPitchUpdate\n      ) {\n        const mm: string = this.props.movingMethod || defaultMovingMethod;\n        const { flyToOptions, animationOptions } = this.props;\n\n        map[mm]({\n          ...animationOptions,\n          ...flyToOptions,\n          zoom: didZoomUpdate && this.props.zoom ? this.props.zoom[0] : zoom,\n          center: didCenterUpdate ? this.props.center : center,\n          bearing: didBearingUpdate ? this.props.bearing : bearing,\n          pitch: didPitchUpdate ? this.props.pitch : pitch\n        });\n      }\n\n      if (!isEqual(prevProps.style, this.props.style)) {\n        map.setStyle(this.props.style);\n      }\n\n      return null;\n    }\n\n    public setRef = (x: HTMLElement | null) => {\n      this.container = x!;\n    };\n\n    public render() {\n      const {\n        containerStyle,\n        className,\n        children,\n        renderChildrenInPortal\n      } = this.props;\n\n      const { ready, map } = this.state;\n\n      if (renderChildrenInPortal) {\n        const container =\n          ready && map && typeof map.getCanvasContainer === 'function'\n            ? map.getCanvasContainer()\n            : undefined;\n\n        return (\n          <MapContext.Provider value={map}>\n            <div\n              ref={this.setRef}\n              className={className}\n              style={{ ...containerStyle }}\n            >\n              {ready && container && createPortal(children, container)}\n            </div>\n          </MapContext.Provider>\n        );\n      }\n\n      return (\n        <MapContext.Provider value={map}>\n          <div\n            ref={this.setRef}\n            className={className}\n            style={{ ...containerStyle }}\n          >\n            {ready && children}\n          </div>\n        </MapContext.Provider>\n      );\n    }\n  };\n};\n\nexport default ReactMapboxFactory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}